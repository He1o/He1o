---
title: 1. Introduce
date: 2024-11-02
category: Design pattern
---
<!--more-->
# Introduce

## 简介
**底层思维**：如何把握机器底层从微观理解对象构造
- 语言构造
- 编译转换
- 内存模型
- 运行时机制

**抽象思维**：向上，如何将我们周围世界抽象为程序代码
- 面向对象
- 组件封装
- 设计模式
- 架构模式

向下：深入理解三大面向对象机制
- 封装，隐藏内部实现
- 继承，复用现有代码
- 多态，改写对象行为

> 建筑商从来不会想给一栋已经建好的100层大楼再加一个地下室

**如何解决复杂性**

分解：人们面对复杂性有一个常见的做法：即分而治之，将大问题分解为多个小问题，将复杂问题分解为多个简单问题

抽象：更高层次来讲，人们处理复杂性有一个通用的技术，即抽象。由于不能掌握全部的复杂对象，我们选择忽视它的非本质细节，而去处理泛华和理想化了的对象模型。

**复用！！**

## 原则
### 重新认识面对对象
理解隔离变化：从宏观层面来看，面对对象的构建方式更能适应软件的变化，能将变化所带来的影响减到最小。

各司其职：从微观层面来看，面对对象的方式更强调个各类的“责任”，由于需求变化导致的新增类型不应该影响原来类型的实现，所谓各负其责

对象是什么
- 从语言实现层面来看，对象封装了代码和数据
- 从规格层面讲，对象是一系列可被使用的公共接口
- 从概念层面讲，对象是某种拥有责任的抽象

### 设计原则
- 依赖倒置原则（DIP）
  - 高层模块（稳定）不应该依赖于低层模块（变化），二者都应该依赖于抽象（稳定）。
  - 抽象（稳定）不应该依赖于实现细节（变化），实现细节应该依赖于抽象（稳定）。
- 开放封闭原则（OCP）
  - 对扩展开放，对更改封闭。
  - 类模块应该是可扩展的，但是不可修改。
- 单一职责原则（SRP）
  - 一个类应该仅有一个引起它变化的原因
  - 变化的方向隐含着类的责任
- Liskov替换原则（LSP）
  - 子类必须能够替换它们的基类（IS-A）
  - 继承表达类型抽象
- 接口隔离原则（ISP）
  - 不应该强迫客户程序依赖它们不用的方法
  - 接口应该小而完备
- 优先使用对象组合，而不是类继承
  - 类继承通常为“白箱复用”，对象组合通常为“黑箱复用”
  - 继承在某种程度上破坏了封装性，子类父类耦合度高
  - 对象组合则只要求被组合的对象具有良好定义的接口，耦合度低
- 封装变化点
  - 使用封装来创建对象之间的分界层，让设计者可以在分界层的一侧来进行修改，而不会对另一侧产生不良的影响，从而实现层次间的松耦合。
- 针对接口编程，而不是针对实现编程
  - 不将变量类型声明为某个特定的具体类，而是声明为某个接口
  - 客户程序无需获知对象的具体类型，只需要知道对象所具有的接口
  - 减少系统中各部分的依赖关系，从而实现“高内聚，松耦合”的类型设计方案